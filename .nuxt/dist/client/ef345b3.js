(window.webpackJsonp=window.webpackJsonp||[]).push([[4,5],{263:function(e,t,n){var content=n(280);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(133).default)("364dbc90",content,!0,{sourceMap:!1})},273:function(e,t,n){var content=n(292);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(133).default)("797b4eda",content,!0,{sourceMap:!1})},279:function(e,t,n){"use strict";n(263)},280:function(e,t,n){var o=n(132)(!1);o.push([e.i,".sentence-box[data-v-218f8c1e]{width:calc(100% - 40px);height:150px;display:flex;flex-direction:column;align-items:center;transition:.5s;padding-top:20px;overflow:hidden}.sentence-box h3[data-v-218f8c1e]{margin:10px auto}.sentence-box textarea[data-v-218f8c1e]{resize:none;width:calc(80% - 40px);height:30px;padding:20px;outline:none;border-color:rgba(0,0,0,.15);border-width:2px;border-radius:10px}.sentence-box button[data-v-218f8c1e]{width:80px;height:30px;margin-top:10px;border:1px solid rgba(0,0,0,.3);border-radius:5px;background:none;transition:.5s;cursor:pointer}.sentence-box button[data-v-218f8c1e]:hover{background-color:#77d;border:1px solid #0000c8;color:#fff}.held .button[data-v-218f8c1e]{color:#fff;border:1px solid #fff}.boxHeightInPosts[data-v-218f8c1e]{height:114px}.v-enter[data-v-218f8c1e]{opacity:0;height:0;padding-top:0}.v-enter-to[data-v-218f8c1e]{opacity:1;height:150px;padding-top:20px}.v-enter-active[data-v-218f8c1e]{transition:.5s}.v-leave[data-v-218f8c1e]{opacity:1;padding-top:20px}.v-leave-to[data-v-218f8c1e]{opacity:0;height:0;padding-top:0}.v-leave-active[data-v-218f8c1e]{transition:.5s}@media (max-width:520px){.sentence-box[data-v-218f8c1e]{width:100%;padding-top:10px}.sentence-box h3[data-v-218f8c1e]{font-size:1em}.sentence-box textarea[data-v-218f8c1e]{width:calc(90% - 40px);padding:10px}.boxHeightInPosts[data-v-218f8c1e]{height:94px}.v-enter[data-v-218f8c1e]{opacity:0;height:0;padding-top:0}.v-enter-to[data-v-218f8c1e]{opacity:1;padding-top:10px;height:150px}.v-enter-active[data-v-218f8c1e]{transition:.5s}.v-leave[data-v-218f8c1e]{opacity:1;padding-top:10px;height:150px}.v-leave-to[data-v-218f8c1e]{opacity:0;height:0;padding-top:0}.v-leave-active[data-v-218f8c1e]{transition:opacity .1s,padding-top .5s,height .5s}}",""]),e.exports=o},281:function(e,t,n){"use strict";n.r(t);var o=n(327),r=n(8),c=(n(40),n(50),n(293)),d=n.n(c),l=n(294),h=n.n(l),f={props:{mode:"",contentId:"",replyTweetId:"",contentOriginId:"",replySentence:"",held:!1,show:"",MICROCMS_KEY:"",CONSUMER_KEY:"",CONSUMER_KEY_SECRET:"",ACCESS_TOKEN_KEY:"",ACCESS_TOKEN_KEY_SECRET:""},data:function(){return{getShow:this.show,getMode:this.mode,getContentId:this.contentId,getReplyTweetId:this.replyTweetId,getContentOriginId:this.contentOriginId,getReplySentence:this.replySentence,sentence:"",textareaWord:{question:"質問を入力する",answer:"この質問への回答を入力する",reply:"この質問への返信を入力する",replyForReply:"この返信への回答を入力する"},buttonWord:{question:"質問する",answer:"回答する",reply:"返信する",replyForReply:"回答する"}}},methods:{toggle:function(){this.getShow=!this.getShow},sendSentence:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.sentence&&"answer"===e.getMode?e.postTweet(e.sentence,e.getContentId,"tweet","answer"):e.sentence&&"replyForReply"===e.getMode&&(e.postTweet("【フォロワーの方からの情報】\n\n"+e.getReplySentence+"\n\n"+e.sentence,e.getReplyTweetId,"reply","replyForReply"),e.$emit("setReply"));case 1:case"end":return t.stop()}}),t)})))()},postTweet:function(e,t,n,c){var l=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var f,i,v,x,w,_,data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(console.log("posttweet",e,t),110,140,f=Object(o.a)(e),!Array.isArray(e))for((f=[]).push(e.slice(0,110)),i=110;i<e.length-2;i+=140)f.push(e.slice(i,i+140));return v=d()({consumer:{key:l.CONSUMER_KEY,secret:l.CONSUMER_KEY_SECRET},signature_method:"HMAC-SHA1",hash_function:function(e,t){return h.a.createHmac("sha1",t).update(e).digest("base64")}}),x={key:l.ACCESS_TOKEN_KEY,secret:l.ACCESS_TOKEN_KEY_SECRET},w={url:"https://api.twitter.com/2/tweets",method:"POST"},_=v.toHeader(v.authorize(w,x)).Authorization,data={},"tweet"===n?data={text:f[0]+"\nhttps://unique-donut-e9d728.netlify.app/"+t}:"reply"===n?data={text:f[0],reply:{in_reply_to_tweet_id:t}}:console.log("not fit!"),r.next=13,l.$axios.$post("/api/2/tweets",data,{headers:{authorization:_}}).then((function(e){f.length>1&&l.postTweet(f.slice(1),e.data.id,"reply"),"answer"===c?l.sendSentenceModeAnswer(e.data.id):"replyForReply"===c&&(l.sendSentenceModeReplyForReply(e.data.id),l.setReplyTweetId(e.data.id))})).catch((function(e){alert("通信に失敗しました。："+e),console.log(e)}));case 13:case"end":return r.stop()}}),r)})))()},sendSentenceModeAnswer:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$axios.$patch("https://q-box.microcms.io/api/v1/q_box_posts/"+t.getContentId,{answer:t.sentence,replyTweetId:e},{headers:{"Content-Type":"application/json","X-MICROCMS-API-KEY":t.MICROCMS_KEY}}).catch((function(e){alert("通信に失敗しました。："+e),console.log(e)})).then((function(){t.$emit("get-posts"),t.sentence=""}));case 2:case"end":return n.stop()}}),n)})))()},sendSentenceModeReplyForReply:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$patch("https://q-box.microcms.io/api/v1/q_box_replies/"+e.getContentId,{replyAnswer:e.sentence},{headers:{"Content-Type":"application/json","X-MICROCMS-API-KEY":e.MICROCMS_KEY}}).then((function(){e.$emit("set-replies"),e.sentence=""})).catch((function(e){alert("通信に失敗しました。："+e),console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},setReplyTweetId:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$axios.$patch("https://q-box.microcms.io/api/v1/q_box_posts/"+t.getContentOriginId,{replyTweetId:e},{headers:{"Content-Type":"application/json","X-MICROCMS-API-KEY":t.MICROCMS_KEY}}).catch((function(e){alert("通信に失敗しました。："+e),console.log(e)}));case 2:case"end":return n.stop()}}),n)})))()}}},v=(n(279),n(51)),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.getShow,expression:"getShow"}],staticClass:"sentence-box",class:{held:this.held,boxHeightInPosts:"reply"===e.getMode}},[n("h3",{directives:[{name:"show",rawName:"v-show",value:"question"===e.getMode,expression:"getMode === 'question'"}]},[e._v("質問する")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.sentence,expression:"sentence"}],attrs:{placeholder:this.textareaWord[e.mode],autocomplete:"off"},domProps:{value:e.sentence},on:{input:function(t){t.target.composing||(e.sentence=t.target.value)}}}),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:"answer"===e.getMode||"replyForReply"===e.getMode,expression:"getMode === 'answer' || getMode === 'replyForReply'"}]},[e._v("\n      "+e._s(this.sentence.length)+"\n    ")]),e._v(" "),n("button",{staticClass:"button",on:{click:function(t){return e.sendSentence()}}},[e._v("\n      "+e._s(this.buttonWord[e.mode])+"\n    ")])])])}),[],!1,null,"218f8c1e",null);t.default=component.exports},287:function(e,t,n){"use strict";var o=n(6),r=n(3),c=n(60),d=n(22),l=n(33),h=n(12),f=n(4),v=n(188),x=n(134),w=n(288),_=n(289),E=n(71),C=n(290),m=[],S=r(m.sort),y=r(m.push),R=f((function(){m.sort(void 0)})),M=f((function(){m.sort(null)})),O=x("sort"),K=!f((function(){if(E)return E<70;if(!(w&&w>3)){if(_)return!0;if(C)return C<603;var code,e,t,n,o="";for(code=65;code<76;code++){switch(e=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(n=0;n<47;n++)m.push({k:e+n,v:t})}for(m.sort((function(a,b){return b.v-a.v})),n=0;n<m.length;n++)e=m[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));o({target:"Array",proto:!0,forced:R||!M||!O||!K},{sort:function(e){void 0!==e&&c(e);var t=d(this);if(K)return void 0===e?S(t):S(t,e);var n,o,r=[],f=l(t);for(o=0;o<f;o++)o in t&&y(r,t[o]);for(v(r,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:h(t)>h(n)?1:-1}}(e)),n=r.length,o=0;o<n;)t[o]=r[o++];for(;o<f;)delete t[o++];return t}})},288:function(e,t,n){var o=n(59).match(/firefox\/(\d+)/i);e.exports=!!o&&+o[1]},289:function(e,t,n){var o=n(59);e.exports=/MSIE|Trident/.test(o)},290:function(e,t,n){var o=n(59).match(/AppleWebKit\/(\d+)\./);e.exports=!!o&&+o[1]},291:function(e,t,n){"use strict";n(273)},292:function(e,t,n){var o=n(132)(!1);o.push([e.i,"header[data-v-29b0eea8]{width:100%;height:70px;display:flex;justify-content:center;align-items:center}ul[data-v-29b0eea8]{width:80%;margin:0 auto}ul>div[data-v-29b0eea8]{display:flex;margin:10px 0}ul h2[data-v-29b0eea8]{font-size:2.2em}ul li[data-v-29b0eea8]{flex-direction:column;list-style:none;box-shadow:0 0 5px 5px rgba(0,0,0,.1);padding:20px;margin:20px 0;word-wrap:break-word}ul li[data-v-29b0eea8],ul li .box[data-v-29b0eea8]{display:flex;align-items:center}ul li .box[data-v-29b0eea8]{width:100%;justify-content:space-between}ul li .box h3[data-v-29b0eea8]{width:70%;text-align:center;white-space:pre-wrap}ul li .box button[data-v-29b0eea8],ul li .box div button[data-v-29b0eea8]{width:50px;height:30px;border:1px solid rgba(0,0,0,.3);border-radius:5px;background:none;transition:.5s;cursor:pointer}ul li .box button[data-v-29b0eea8]:hover,ul li .box div button[data-v-29b0eea8]:hover{background-color:#d77;border:1px solid #c80000;color:#fff}ul li .box .toggle-button[data-v-29b0eea8]{width:100px}ul li .box .toggle-button[data-v-29b0eea8]:hover{background-color:#303030;border-color:#303030}ul .held[data-v-29b0eea8]{background-color:#333;color:#fff}ul .held .box div button[data-v-29b0eea8],ul .held div .toggle-button[data-v-29b0eea8]{color:#fff;border:1px solid #fff}ul .held div .toggle-button[data-v-29b0eea8]:hover{background-color:#fff;border:1px solid #fff;color:#303030}.flip-list-move[data-v-29b0eea8]{transition:transform .5s}@media (max-width:520px){ul[data-v-29b0eea8]{width:100%}ul div h2[data-v-29b0eea8]{font-size:1.6em;margin-left:10px}ul li[data-v-29b0eea8]{padding:10px;margin:10px 0}ul li .box h3[data-v-29b0eea8]{width:auto;font-size:1em;max-width:calc(100% - 120px)}ul li .box div[data-v-29b0eea8]{width:50px}ul li .box div button[data-v-29b0eea8]{margin:5px 0}ul li .box .toggle-button[data-v-29b0eea8]{width:50px;height:70px}}",""]),e.exports=o},296:function(e,t){},297:function(e,t){},304:function(e,t){},305:function(e,t){},311:function(e,t){},313:function(e,t){},314:function(e,t){},315:function(e,t){},318:function(e,t){},322:function(e,t){},383:function(e,t,n){"use strict";n.r(t);var o=n(8),r=(n(287),n(50),n(102)),c={data:function(){return{posts:[],modeAnswer:"answer",heldOnly:!1,MICROCMS_KEY:"",CONSUMER_KEY:"",CONSUMER_KEY_SECRET:"",ACCESS_TOKEN_KEY:"",ACCESS_TOKEN_KEY_SECRET:""}},methods:{showSendSentence:function(e){this.$refs[e][0].toggle()},getPosts:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("https://q-box.microcms.io/api/v1/q_box_posts?filters=answer[not_exists]&orders=createdAt",{headers:{"X-MICROCMS-API-KEY":e.MICROCMS_KEY}}).then((function(t){e.$set(e,"posts",t.contents)})).catch((function(e){alert("通信に失敗しました。："+e),console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},deletePost:function(e){r.a.deletePost(this,e,"q_box_posts",this.MICROCMS_KEY)},holdPost:function(e,t){r.a.holdPost(this,e,"q_box_posts",this.MICROCMS_KEY,t)},held:function(){this.heldOnly?this.posts.sort((function(e,t){return e.createdAt>t.createdAt?0:-1})):this.posts.sort((function(e,t){return e.held===t.held?0:e.held?-1:1})),this.heldOnly=!this.heldOnly}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.MICROCMS_KEY="f999ee3a5b064d859ee8072912dd0265ab9f",e.CONSUMER_KEY="Kn7JSGK3ebklzfZKsAgq8A6BB",e.CONSUMER_KEY_SECRET="Vsdsq0vosePrRgLbgVAMjco3Na4lFVQ8QiPUP3pwBp8gQG3lMe",e.ACCESS_TOKEN_KEY="1494570525166690304-hdloI9h9Vw27OZraElbtWL9GF6XPBm",e.ACCESS_TOKEN_KEY_SECRET="chgUBxGwAU3EI2njwyQXtXZZFw2tX7xAMdelA2zJuFBR3",e.getPosts();case 6:case"end":return t.stop()}}),t)})))()}},d=(n(291),n(51)),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("div",[n("h2",[e._v("未回答の質問(古い順)")]),e._v(" "),n("button",{on:{click:e.held}},[e._v("保留のみ表示")])]),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.posts[0],expression:"!posts[0]"}]},[e._v("質問はありません")]),e._v(" "),n("transition-group",{attrs:{name:"flip-list"}},e._l(e.posts,(function(t){return n("li",{key:t.id,class:{held:t.held}},[n("div",{staticClass:"box"},[n("div",[n("button",{on:{click:function(n){return e.deletePost(t.id)}}},[e._v("削除")]),e._v(" "),n("button",{on:{click:function(n){return e.holdPost(t.id,t.held)}}},[e._v("保留")])]),e._v(" "),n("h3",[e._v(e._s(t.question))]),e._v(" "),n("button",{staticClass:"toggle-button",on:{click:function(n){return e.showSendSentence(t.id)}}},[e._v("\n          開閉\n        ")])]),e._v(" "),n("SharedSendSentence",{ref:t.id,refInFor:!0,staticClass:"send-sentence",attrs:{mode:e.modeAnswer,"content-id":t.id,held:t.held,show:!1,MICROCMS_KEY:e.MICROCMS_KEY,CONSUMER_KEY:e.CONSUMER_KEY,CONSUMER_KEY_SECRET:e.CONSUMER_KEY_SECRET,ACCESS_TOKEN_KEY:e.ACCESS_TOKEN_KEY,ACCESS_TOKEN_KEY_SECRET:e.ACCESS_TOKEN_KEY_SECRET},on:{"get-posts":e.getPosts}})],1)})),0)],1)}),[],!1,null,"29b0eea8",null);t.default=component.exports;installComponents(component,{SharedSendSentence:n(281).default})}}]);